# Визуализация диаграмм

## Быстрый старт

### Способ 1: Онлайн просмотр (Рекомендуется)

1. Откройте [PlantUML Online Server](http://www.plantuml.com/plantuml/uml/)
2. Откройте любой `.puml` файл из директории `diagrams/`
3. Скопируйте весь текст файла
4. Вставьте в текстовое поле на сайте
5. Диаграмма отобразится автоматически

**Прямые ссылки для просмотра:**

Вы можете закодировать диаграммы в URL. Вот пример для контекстной диаграммы:
```
http://www.plantuml.com/plantuml/uml/[закодированный_текст]
```

### Способ 2: Visual Studio Code

**Установка расширения:**
1. Откройте VS Code
2. Перейдите в Extensions (Ctrl+Shift+X)
3. Найдите "PlantUML" (автор: jebbs)
4. Нажмите Install

**Просмотр диаграмм:**
1. Откройте любой `.puml` файл
2. Нажмите `Alt+D` для предварительного просмотра
3. Или нажмите `Ctrl+Shift+P` и введите "PlantUML: Preview Current Diagram"

**Экспорт:**
- `Ctrl+Shift+P` → "PlantUML: Export Current Diagram"
- Форматы: PNG, SVG, PDF, EPS

### Способ 3: Командная строка

**Требования:**
- Java Runtime Environment
- GraphViz (для некоторых диаграмм)
- PlantUML JAR файл

**Установка на Ubuntu/Debian:**
```bash
sudo apt-get update
sudo apt-get install -y openjdk-11-jre graphviz
wget https://github.com/plantuml/plantuml/releases/download/v1.2023.13/plantuml-1.2023.13.jar
```

**Генерация всех диаграмм:**
```bash
# Перейдите в корень проекта
cd /path/to/Coursework2

# Генерация PNG изображений для всех диаграмм
java -jar plantuml.jar diagrams/**/*.puml

# Генерация SVG
java -jar plantuml.jar -tsvg diagrams/**/*.puml

# Генерация PDF
java -jar plantuml.jar -tpdf diagrams/**/*.puml
```

**Результат:**
- Изображения будут созданы рядом с исходными файлами
- Например: `A-0_context_diagram.png`, `A-0_context_diagram.svg`

### Способ 4: Ramus Educational (для IDEF1X)

**Для просмотра файла `1ver.ercmdl`:**

1. Скачайте Ramus Educational 2.0.1:
   - Официальный сайт: http://ramussoftware.com/
   - Или GitHub: https://github.com/Vitaliy-Yakovchuk/ramus

2. Установите программу

3. Откройте файл:
   - File → Open
   - Выберите `MigrationService/1ver.ercmdl`

4. Навигация:
   - Дерево сущностей слева
   - Диаграмма в центре
   - Свойства справа

## Структура визуализации

### IDEF0 Диаграммы

```
┌─────────────────────────────────────────┐
│         Контекстная (A-0)              │
│  Цель и точка зрения                   │
└──────────────┬──────────────────────────┘
               │
               ▼
┌─────────────────────────────────────────┐
│         Декомпозиция (A0)              │
│  A1, A2, A3, A4, A5                    │
└──┬─────┬─────┬─────┬────────────────────┘
   │     │     │     │
   ▼     ▼     ▼     ▼
┌──────┐┌──────┐┌──────┐┌──────┐
│  A1  ││  A2  ││  A3  ││  A4  │
│Прием ││План. ││Занят.││Контр.│
└──────┘└──────┘└──────┘└──────┘
```

### IDEF3 Диаграммы

```
Процесс 1: Полетное занятие
─────────────────────────────
Подготовка → Инструктаж → Осмотр → Полет → Разбор → Журнал

Процесс 2: Регистрация студента
────────────────────────────────
Заявление → Проверка → ╔═══╗ → Оплата → Зачисление
                        ║Med║
                        ╚═══╝
```

### DFD Диаграмма

```
┌─────────┐      ┌──────────┐      ┌──────────┐
│ Студент │─────▶│ Процессы │─────▶│Хранилища│
└─────────┘      └──────────┘      └──────────┘
     ▲                 │                  │
     └─────────────────┴──────────────────┘
```

## Рекомендации по просмотру

### Последовательность изучения

**День 1: Общее понимание**
1. Контекстная диаграмма (A-0)
2. Декомпозиция первого уровня (A0)
3. Текст и глоссарий

**День 2: Детальное изучение процессов**
4. Диаграммы A1-A4 (по очереди)
5. Сравнение автоматизированной и неавтоматизированной версий

**День 3: Временные потоки**
6. IDEF3 диаграммы
7. Понимание последовательности действий

**День 4: Данные**
8. DFD диаграмма
9. IDEF1X модель
10. Новая сущность MaintenanceLog

### Печать диаграмм

**Рекомендуемые размеры бумаги:**
- IDEF0 диаграммы: A3 (для лучшей читаемости)
- IDEF3 диаграммы: A4
- DFD диаграмма: A3

**Настройки экспорта:**
```bash
# Для печати на A3
java -jar plantuml.jar -tpng -Sdpi=300 diagram.puml

# Для презентации (высокое качество)
java -jar plantuml.jar -tsvg diagram.puml
```

## Проверка корректности

### Контрольные точки

✅ **IDEF0:**
- [ ] Все входы имеют источник
- [ ] Все выходы имеют потребителя
- [ ] Управление идет сверху
- [ ] Механизмы идут снизу
- [ ] Нумерация A1, A2, A3... последовательна

✅ **IDEF3:**
- [ ] Есть начальная и конечная точки
- [ ] Все потоки соединены
- [ ] Точки принятия решений имеют альтернативы
- [ ] Временные характеристики указаны

✅ **DFD:**
- [ ] Все процессы пронумерованы
- [ ] Хранилища имеют номера (D1, D2...)
- [ ] Потоки подписаны
- [ ] Внешние сущности выделены

✅ **IDEF1X:**
- [ ] Все сущности имеют первичные ключи
- [ ] Связи корректно определены
- [ ] Кардинальность указана
- [ ] Атрибуты имеют типы данных

## Примеры использования

### Экспорт для презентации

```bash
# Создать PNG для всех IDEF0
java -jar plantuml.jar -tpng diagrams/idef0/*.puml

# Создать SVG для IDEF3 (векторная графика)
java -jar plantuml.jar -tsvg diagrams/idef3/*.puml

# Создать PDF для DFD
java -jar plantuml.jar -tpdf diagrams/dfd/*.puml
```

### Создание комплекта документации

```bash
# Скрипт для генерации всех форматов
for file in diagrams/**/*.puml; do
  echo "Processing $file"
  java -jar plantuml.jar -tpng "$file"
  java -jar plantuml.jar -tsvg "$file"
done

echo "All diagrams generated!"
```

## Устранение проблем

### PlantUML не отображает диаграммы

**Проблема:** Пустое окно в VS Code
**Решение:**
1. Проверьте установку Java: `java -version`
2. Перезагрузите VS Code
3. Используйте онлайн версию как альтернативу

### Ошибки синтаксиса

**Проблема:** "Syntax Error" в PlantUML
**Решение:**
1. Проверьте закрывающий тег `@enduml`
2. Убедитесь, что кавычки правильные
3. Проверьте, что все блоки закрыты

### Ramus не открывает файл

**Проблема:** Ошибка при открытии `1ver.ercmdl`
**Решение:**
1. Убедитесь, что файл в кодировке UTF-16
2. Проверьте XML структуру
3. Используйте Ramus Educational 2.0.1 (не более поздние версии)

## Дополнительные ресурсы

### Онлайн редакторы
- PlantUML: http://www.plantuml.com/plantuml/uml/
- PlantText: https://www.planttext.com/

### Документация
- PlantUML: https://plantuml.com/ru/
- IDEF0: http://www.idef.com/idef0/
- DFD: https://en.wikipedia.org/wiki/Data-flow_diagram

### Видео уроки
- PlantUML на YouTube
- IDEF методологии
- Проектирование баз данных

## Заключение

Все диаграммы созданы в текстовом формате PlantUML, что обеспечивает:
- ✅ Легкость редактирования
- ✅ Версионный контроль (Git)
- ✅ Кроссплатформенность
- ✅ Автоматическая генерация изображений
- ✅ Высокое качество экспорта

Для быстрого просмотра рекомендуется использовать онлайн редактор PlantUML.
