@model MigrationService.Controllers.FlightSearchResults
@{
    ViewData["Title"] = "Поиск";
}

<h2>Поиск</h2>

<form method="get" class="mb-3">
    <div class="input-group">
        <input type="text" class="form-control" name="query" value="@Model?.Query" placeholder="Введите запрос..." />
        <button type="submit" class="btn btn-primary">Искать</button>
    </div>
    <a class="btn btn-link" href="@Url.Action("Index")">Сбросить</a>
    </form>

@if (Model != null && !string.IsNullOrWhiteSpace(Model.Query))
{
    <div class="row">
        <div class="col-md-6">
            <h4>Курсанты</h4>
            <ul>
                @foreach (var s in Model.Students)
                {
                    <li>@s.FullName (@s.Email)</li>
                }
            </ul>
        </div>
        <div class="col-md-6">
            <h4>Инструкторы</h4>
            <ul>
                @foreach (var i in Model.Instructors)
                {
                    <li>@i.FullName (@i.Email)</li>
                }
            </ul>
        </div>
        <div class="col-md-6">
            <h4>Занятия</h4>
            <ul>
                @foreach (var l in Model.Lessons)
                {
                    <li>@l.Date.ToString("yyyy-MM-dd") — @l.Student?.FullName — @l.Topic</li>
                }
            </ul>
        </div>
        <div class="col-md-6">
            <h4>Самолеты</h4>
            <ul>
                @foreach (var a in Model.Aircraft)
                {
                    <li>@a.TailNumber (@a.Model)</li>
                }
            </ul>
        </div>
    </div>
}


